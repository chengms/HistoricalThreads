# 人物头像收集指南

本文档说明如何为历史人物收集和添加头像图片。

## 一、图片存放位置

所有人物头像应存放在：
```
frontend/public/images/persons/
```

## 二、文件命名规则

格式：`{人物ID}-{人物名称}.jpg` 或 `.png`

示例：
- `1-大禹.jpg`
- `8-秦始皇.jpg`
- `17-曹操.jpg`

## 三、图片要求

### 技术规格
- **格式**：JPG 或 PNG
- **尺寸**：建议 200x200 像素或更大（正方形最佳）
- **大小**：建议小于 100KB
- **分辨率**：至少 200x200，推荐 400x400

### 内容要求
- 人物肖像、画像或雕塑照片
- 清晰可见，避免模糊
- 风格统一（建议使用古代画像风格）
- 正面或侧面肖像

## 四、图片来源

### 1. 博物馆官网
- 中国国家博物馆
- 故宫博物院
- 各省市博物馆

### 2. 历史资料网站
- 中国历史网
- 国学网
- 中华古籍网

### 3. 公开图片库
- **Wikimedia Commons**（推荐）：https://commons.wikimedia.org/
- **百度百科**：https://baike.baidu.com/
- **维基百科**：https://www.wikipedia.org/

### 4. 古籍插图
- 古代人物画像
- 版画、木刻
- 历史文献插图

## 五、版权注意事项

⚠️ **重要**：确保图片版权清晰

### 推荐使用
- ✅ 公有领域（Public Domain）图片
- ✅ CC0（无版权）图片
- ✅ CC BY（署名）许可的图片
- ✅ 已获得授权的图片

### 避免使用
- ❌ 有明确版权声明的商业图片
- ❌ 未授权的现代艺术作品
- ❌ 可能涉及版权争议的图片

### 推荐来源
1. **Wikimedia Commons**：大部分图片有明确的版权信息
2. **博物馆官网**：通常有使用说明
3. **古籍扫描**：通常已进入公有领域

## 六、添加头像的步骤

### 方法一：手动添加

1. **下载图片**
   - 从上述来源下载人物头像
   - 重命名为：`{ID}-{姓名}.jpg`

2. **保存到目录**
   ```
   frontend/public/images/persons/{ID}-{姓名}.jpg
   ```

3. **更新数据文件**
   编辑 `frontend/public/data/persons.json`，为对应人物添加 `avatarUrl` 字段：
   ```json
   {
     "id": 8,
     "name": "秦始皇",
     "avatarUrl": "/images/persons/8-秦始皇.jpg",
     ...
   }
   ```

### 方法二：使用脚本（推荐）

1. **安装依赖**（如果需要）
   ```bash
   npm install axios
   ```

2. **编辑脚本**
   打开 `scripts/download-person-avatars.js`，填写图片URL：
   ```javascript
   const avatarUrls = {
     1: 'https://example.com/dayu.jpg',
     8: 'https://example.com/qinshihuang.jpg',
     // ... 更多
   };
   ```

3. **运行脚本**
   ```bash
   node scripts/download-person-avatars.js
   ```

   脚本会自动：
   - 下载图片到 `frontend/public/images/persons/`
   - 更新 `persons.json` 文件，添加 `avatarUrl` 字段

## 七、批量查找图片的技巧

### 1. 使用搜索引擎
- 搜索："{人物姓名} 画像" 或 "{人物姓名} 肖像"
- 使用图片搜索功能
- 筛选大尺寸、清晰的图片

### 2. 使用 Wikimedia Commons
- 访问：https://commons.wikimedia.org/
- 搜索人物姓名（中文或拼音）
- 筛选"Public Domain"或"CC0"图片

### 3. 使用百度百科
- 访问人物词条
- 查看词条中的图片
- 右键保存（注意版权）

## 八、常见人物头像资源

### 古代帝王
- 历代帝王画像（故宫博物院）
- 《历代帝王图》（阎立本）
- 《三才图会》等古籍插图

### 历史名将
- 古代武将画像
- 历史文献插图
- 博物馆文物照片

### 文人学者
- 古代文人画像
- 古籍插图
- 历史文献

## 九、验证和测试

添加头像后：

1. **检查文件是否存在**
   ```bash
   ls frontend/public/images/persons/
   ```

2. **本地测试**
   ```bash
   cd frontend
   npm run dev
   ```
   访问人物详情页，检查头像是否正常显示

3. **检查 JSON 格式**
   确保 `persons.json` 格式正确，没有语法错误

## 十、示例

### 示例：为秦始皇添加头像

1. **找到图片**
   - 在 Wikimedia Commons 搜索 "Qin Shi Huang"
   - 选择一张公有领域的画像

2. **下载并重命名**
   - 下载图片
   - 重命名为：`8-秦始皇.jpg`

3. **保存文件**
   ```
   frontend/public/images/persons/8-秦始皇.jpg
   ```

4. **更新 JSON**
   ```json
   {
     "id": 8,
     "name": "秦始皇",
     "avatarUrl": "/images/persons/8-秦始皇.jpg",
     ...
   }
   ```

5. **测试**
   - 运行 `npm run dev`
   - 访问人物详情页查看效果

## 十一、注意事项

1. **路径格式**
   - 使用相对路径：`/images/persons/{filename}`
   - 不要使用绝对路径或 `http://` 开头的URL

2. **文件名编码**
   - 使用 UTF-8 编码
   - 避免特殊字符

3. **图片优化**
   - 如果图片太大，可以使用工具压缩
   - 推荐工具：TinyPNG、ImageOptim

4. **备份**
   - 添加图片前建议备份原文件
   - 使用 Git 管理，方便回滚

## 十二、问题排查

### 图片不显示
- 检查文件路径是否正确
- 检查文件名是否匹配
- 检查 JSON 中的 `avatarUrl` 字段
- 查看浏览器控制台错误信息

### 图片加载慢
- 检查图片文件大小
- 考虑压缩图片
- 使用 CDN（如果部署到生产环境）

### 版权问题
- 确保图片来源合法
- 保留版权信息（如果要求）
- 在 README 中注明图片来源

