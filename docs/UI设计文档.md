# UI设计文档

## 一、设计原则

### 1.1 设计理念
- **大气磅礴**：体现中国历史的厚重感和文化底蕴
- **现代简约**：采用现代化的设计语言，避免过度装饰
- **流畅交互**：所有动画和过渡自然流畅，提升用户体验
- **信息清晰**：层次分明，重点突出，易于理解

### 1.2 色彩方案

#### 主色调
```
- 主色：深蓝 (#1a237e) - 代表历史的深邃
- 辅助色：金色 (#ffa000) - 代表文化的辉煌
- 背景色：浅灰 (#f5f5f5) - 干净清爽
- 文字色：深灰 (#212121) - 清晰易读
- 强调色：红色 (#c62828) - 重要信息
```

#### 语义色彩
```
- 成功：绿色 (#2e7d32)
- 警告：橙色 (#f57c00)
- 错误：红色 (#c62828)
- 信息：蓝色 (#1976d2)
```

### 1.3 字体方案
```
- 中文标题：思源黑体 / 微软雅黑
- 中文正文：思源宋体 / 宋体
- 英文/数字：Inter / Roboto
- 代码：JetBrains Mono
```

### 1.4 间距系统
```
- 基础单位：4px
- 小间距：4px, 8px, 12px
- 中间距：16px, 24px, 32px
- 大间距：48px, 64px, 96px
```

## 二、页面布局

### 2.1 整体布局结构
```
┌─────────────────────────────────────────┐
│           顶部导航栏 (Header)            │
│  Logo | 时间线 | 关系图谱 | 搜索 | 建议  │
├─────────────────────────────────────────┤
│                                         │
│           主内容区域 (Main)              │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │                                 │   │
│  │      时间线/关系图谱视图         │   │
│  │                                 │   │
│  └─────────────────────────────────┘   │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │      筛选面板/详情面板           │   │
│  └─────────────────────────────────┘   │
│                                         │
├─────────────────────────────────────────┤
│           底部信息 (Footer)             │
│  关于 | 数据来源 | 联系方式              │
└─────────────────────────────────────────┘
```

### 2.2 响应式断点
```
- 移动端：< 768px
- 平板：768px - 1024px
- 桌面：> 1024px
- 大屏：> 1440px
```

## 三、核心页面设计

### 3.1 首页/时间线页面

#### 布局结构
```
┌─────────────────────────────────────────┐
│  筛选栏：朝代 | 类型 | 时间范围 | 搜索    │
├─────────────────────────────────────────┤
│                                         │
│  ┌─────────────────────────────────┐   │
│  │                                 │   │
│  │        时间轴 (可缩放)          │   │
│  │                                 │   │
│  │  ──────●──────●──────●──────    │   │
│  │  事件1  事件2  事件3  事件4     │   │
│  │                                 │   │
│  └─────────────────────────────────┘   │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │  事件详情卡片 (悬浮显示)         │   │
│  │  - 标题                          │   │
│  │  - 时间                          │   │
│  │  - 描述                          │   │
│  │  - 相关人物                      │   │
│  │  - 来源链接                      │   │
│  └─────────────────────────────────┘   │
└─────────────────────────────────────────┘
```

#### 交互设计
- **时间轴缩放**：鼠标滚轮或滑块控制
- **事件点击**：显示详情卡片
- **事件拖拽**：调整时间轴位置
- **筛选联动**：实时更新显示内容

### 3.2 关系图谱页面

#### 布局结构
```
┌─────────────────────────────────────────┐
│  控制栏：筛选 | 布局 | 搜索 | 导出       │
├─────────────────────────────────────────┤
│                                         │
│  ┌─────────────────────────────────┐   │
│  │                                 │   │
│  │      关系网络图 (可交互)         │   │
│  │                                 │   │
│  │      ●───●                      │   │
│  │     /|   |\                     │   │
│  │    ●  ●  ●                      │   │
│  │     \|   |/                     │   │
│  │      ●───●                      │   │
│  │                                 │   │
│  └─────────────────────────────────┘   │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │  节点详情面板 (侧边栏)           │   │
│  │  - 人物/事件信息                │   │
│  │  - 关系列表                      │   │
│  └─────────────────────────────────┘   │
└─────────────────────────────────────────┘
```

#### 交互设计
- **节点点击**：选中节点，高亮相关连接
- **节点拖拽**：调整节点位置
- **关系线悬停**：显示关系类型和描述
- **缩放平移**：鼠标滚轮缩放，拖拽平移
- **筛选**：按类型、朝代筛选节点

### 3.3 详情页面

#### 事件详情页
```
┌─────────────────────────────────────────┐
│  [返回]  事件标题                    [编辑]│
├─────────────────────────────────────────┤
│                                         │
│  ┌─────────────────────────────────┐   │
│  │  基本信息                        │   │
│  │  - 时间：公元1234年              │   │
│  │  - 朝代：宋朝                    │   │
│  │  - 类型：政治事件                │   │
│  │  - 地点：开封                    │   │
│  └─────────────────────────────────┘   │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │  详细描述                        │   │
│  │  [事件详细内容...]               │   │
│  └─────────────────────────────────┘   │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │  相关人物                        │   │
│  │  [人物卡片1] [人物卡片2] ...     │   │
│  └─────────────────────────────────┘   │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │  信息来源                        │   │
│  │  • 《XX史书》- 链接              │   │
│  │  • XX博物馆 - 链接               │   │
│  └─────────────────────────────────┘   │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │  相关事件                        │   │
│  │  [事件卡片1] [事件卡片2] ...     │   │
│  └─────────────────────────────────┘   │
└─────────────────────────────────────────┘
```

#### 人物详情页
```
┌─────────────────────────────────────────┐
│  [返回]  人物姓名                    [编辑]│
├─────────────────────────────────────────┤
│  ┌──────┐                              │
│  │ 头像 │  基本信息                     │
│  │      │  - 生卒：1234-1289           │
│  └──────┘  - 朝代：宋朝                │
│            - 类型：政治家/文学家        │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │  人物简介                        │   │
│  │  [详细传记...]                   │   │
│  └─────────────────────────────────┘   │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │  人物关系                        │   │
│  │  [关系图谱缩略图]                │   │
│  └─────────────────────────────────┘   │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │  相关事件                        │   │
│  │  [时间线视图]                    │   │
│  └─────────────────────────────────┘   │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │  信息来源                        │   │
│  │  • 《XX史书》- 链接              │   │
│  └─────────────────────────────────┘   │
└─────────────────────────────────────────┘
```

### 3.4 建议提交页面

#### 布局结构
```
┌─────────────────────────────────────────┐
│  提交建议                                │
├─────────────────────────────────────────┤
│                                         │
│  ┌─────────────────────────────────┐   │
│  │  建议类型                        │   │
│  │  ○ 新增事件  ○ 新增人物          │   │
│  │  ○ 修正内容  ○ 补充来源          │   │
│  └─────────────────────────────────┘   │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │  建议内容                        │   │
│  │  [表单字段...]                   │   │
│  └─────────────────────────────────┘   │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │  信息来源（必填）                │   │
│  │  [来源表单...]                   │   │
│  └─────────────────────────────────┘   │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │  联系方式                        │   │
│  │  姓名：________                  │   │
│  │  邮箱：________                  │   │
│  └─────────────────────────────────┘   │
│                                         │
│         [提交]  [重置]                   │
└─────────────────────────────────────────┘
```

## 四、组件设计

### 4.1 时间线组件

#### 视觉设计
- **时间轴**：水平线条，颜色 #1a237e
- **事件节点**：圆形，不同颜色表示不同类型
  - 政治：蓝色
  - 经济：绿色
  - 文化：金色
  - 战争：红色
- **事件标签**：悬浮显示，卡片样式

#### 交互反馈
- **悬停**：节点放大，显示预览
- **点击**：显示详情卡片
- **拖拽**：平滑移动，实时更新

### 4.2 关系图谱组件

#### 视觉设计
- **节点**：圆形，大小表示重要性
- **节点颜色**：按人物类型区分
- **关系线**：曲线，粗细表示关系强度
- **关系标签**：在线条中点显示关系类型

#### 布局算法
- **力导向布局**：自然分布
- **层次布局**：按朝代分层
- **圆形布局**：围绕中心节点

### 4.3 卡片组件

#### 事件卡片
```
┌─────────────────────┐
│ 标题                │
│ 时间 | 类型 | 朝代  │
├─────────────────────┤
│ 描述（摘要）...     │
│                     │
│ 👤 相关人物：...    │
│ 📚 来源：...        │
└─────────────────────┘
```

#### 人物卡片
```
┌─────────────────────┐
│  [头像]  姓名        │
│         生卒年       │
├─────────────────────┤
│ 简介（摘要）...     │
│                     │
│ 🔗 关系：...        │
│ 📅 事件：...        │
└─────────────────────┘
```

### 4.4 筛选组件

#### 设计样式
- **下拉选择**：多选支持
- **时间范围选择器**：滑块或输入框
- **标签筛选**：可点击标签
- **清除按钮**：一键清除所有筛选

## 五、动画设计

### 5.1 页面过渡
- **路由切换**：淡入淡出，300ms
- **页面加载**：渐显动画，400ms

### 5.2 组件动画
- **卡片出现**：从下往上滑入，300ms
- **悬浮效果**：阴影加深，轻微上移
- **加载状态**：骨架屏 + 加载动画

### 5.3 交互反馈
- **按钮点击**：波纹效果
- **表单验证**：错误提示滑入
- **成功提示**：顶部通知滑入

## 六、响应式设计

### 6.1 移动端适配
- **导航栏**：折叠为汉堡菜单
- **时间线**：垂直布局或可横向滚动
- **关系图谱**：全屏显示，简化控制
- **卡片**：全宽显示，堆叠布局

### 6.2 平板适配
- **双栏布局**：主内容 + 侧边栏
- **时间线**：保持水平，可缩放
- **关系图谱**：中等尺寸显示

## 七、无障碍设计

### 7.1 可访问性
- **键盘导航**：支持Tab键导航
- **屏幕阅读器**：语义化HTML，ARIA标签
- **对比度**：文字与背景对比度 ≥ 4.5:1
- **焦点指示**：清晰的焦点样式

### 7.2 国际化
- **多语言支持**：中文/英文（未来扩展）
- **日期格式**：支持多种日期格式
- **数字格式**：支持不同地区格式

## 八、性能优化

### 8.1 加载优化
- **懒加载**：图片和组件按需加载
- **虚拟滚动**：长列表虚拟滚动
- **代码分割**：按路由分割代码

### 8.2 渲染优化
- **防抖节流**：搜索和滚动事件
- **Memo优化**：组件和计算结果缓存
- **Web Worker**：复杂计算在Worker中执行

