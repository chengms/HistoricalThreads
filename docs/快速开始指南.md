# 快速开始指南

## 一、本地开发

### 1. 安装依赖

```bash
cd frontend
npm install
```

### 2. 启动开发服务器

```bash
npm run dev
```

访问 http://localhost:3000

### 3. 查看效果

- **首页**: http://localhost:3000
- **时间线**: http://localhost:3000/timeline
- **关系图谱**: http://localhost:3000/network
- **提交建议**: http://localhost:3000/suggestion

## 二、更新数据

### 方式一：直接编辑 JSON 文件

数据文件位于 `frontend/public/data/` 目录：

- `dynasties.json` - 朝代数据
- `events.json` - 事件数据
- `persons.json` - 人物数据
- `relationships.json` - 关系数据
- `sources.json` - 来源数据

### 方式二：使用数据验证脚本

```bash
# 验证数据完整性
node scripts/update-data.js validate

# 查看统计信息
node scripts/update-data.js stats

# 执行所有操作
node scripts/update-data.js all
```

## 三、构建和部署

### 构建生产版本

```bash
cd frontend
npm run build
```

构建产物在 `frontend/dist` 目录。

### 部署到 Vercel（推荐）

1. **注册 Vercel 账号**
   - 访问 https://vercel.com
   - 使用 GitHub 账号登录

2. **导入项目**
   - 点击 "New Project"
   - 选择 GitHub 仓库
   - 配置如下：
     - Framework Preset: Vite
     - Root Directory: `frontend`
     - Build Command: `npm run build`
     - Output Directory: `dist`

3. **自动部署**
   - 每次 push 代码到 GitHub 会自动部署
   - 部署完成后会获得一个 URL

### 部署到 GitHub Pages

1. **安装 gh-pages**
   ```bash
   cd frontend
   npm install --save-dev gh-pages
   ```

2. **部署**
   ```bash
   npm run deploy
   ```

3. **配置 GitHub Pages**
   - 进入仓库 Settings
   - 找到 Pages 设置
   - 选择 `gh-pages` 分支
   - 保存

### 部署到 Netlify

1. **注册 Netlify 账号**
   - 访问 https://netlify.com
   - 使用 GitHub 账号登录

2. **导入项目**
   - 点击 "New site from Git"
   - 选择 GitHub 仓库
   - 配置如下：
     - Build command: `cd frontend && npm install && npm run build`
     - Publish directory: `frontend/dist`

3. **自动部署**
   - 每次 push 代码会自动部署

## 四、添加新数据示例

### 添加新事件

编辑 `frontend/public/data/events.json`：

```json
{
  "id": 5,
  "title": "新事件标题",
  "description": "事件详细描述",
  "eventYear": 1234,
  "eventType": "political",
  "dynastyId": 3,
  "location": "地点",
  "persons": [1, 2],
  "sources": [1]
}
```

### 添加新人物

编辑 `frontend/public/data/persons.json`：

```json
{
  "id": 7,
  "name": "人物姓名",
  "nameVariants": ["别名"],
  "birthYear": 1234,
  "deathYear": 1289,
  "biography": "人物简介",
  "personType": ["politician"],
  "dynastyId": 3,
  "sources": [1]
}
```

### 添加新关系

编辑 `frontend/public/data/relationships.json`：

```json
{
  "id": 4,
  "fromPersonId": 1,
  "toPersonId": 2,
  "relationshipType": "colleague",
  "description": "关系描述",
  "startYear": 1234,
  "strength": 5
}
```

### 添加新来源

编辑 `frontend/public/data/sources.json`：

```json
{
  "id": 6,
  "title": "来源标题",
  "author": "作者",
  "url": "https://example.com",
  "sourceType": "official_history",
  "publisher": "出版社",
  "credibilityLevel": 5,
  "verified": true
}
```

## 五、常见问题

### Q: 数据更新后页面没有变化？

A: 
1. 清除浏览器缓存
2. 重新启动开发服务器
3. 检查 JSON 格式是否正确

### Q: 如何验证 JSON 格式？

A: 
```bash
node scripts/update-data.js validate
```

### Q: 构建失败怎么办？

A: 
1. 检查 Node.js 版本（需要 18+）
2. 删除 `node_modules` 重新安装
3. 检查 TypeScript 错误

### Q: 如何添加自定义样式？

A: 
- 编辑 `frontend/src/index.css`
- 或创建新的 CSS 文件在组件中引入

## 六、下一步

- 查看 [项目需求文档](./项目需求文档.md) 了解完整功能
- 查看 [技术架构文档](./技术架构文档.md) 了解技术细节
- 查看 [静态部署文档](./静态部署文档.md) 了解部署选项
- 查看 [UI设计文档](./UI设计文档.md) 了解设计规范

