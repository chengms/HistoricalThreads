/* Twikoo 评论系统自定义样式 - 深色主题 */

/* Twikoo 评论容器深色主题 */
body.cinematic-theme #twikoo,
body.cinematic-theme #twikoo * {
  color: var(--cinematic-text-primary, #ffffff) !important;
}

body.cinematic-theme #twikoo {
  background: transparent !important;
}

body.cinematic-theme #twikoo .tk-input,
body.cinematic-theme #twikoo textarea,
body.cinematic-theme #twikoo input {
  background: rgba(35, 35, 35, 0.85) !important;
  border-color: var(--cinematic-border, rgba(255, 255, 255, 0.15)) !important;
  color: var(--cinematic-text-primary, #ffffff) !important;
}

body.cinematic-theme #twikoo .tk-submit {
  background: transparent !important;
}

body.cinematic-theme #twikoo .tk-comment,
body.cinematic-theme #twikoo .tk-comment-content {
  background: transparent !important;
  color: var(--cinematic-text-primary, #ffffff) !important;
}

/* 隐藏 Twikoo 默认的上传图片按钮 - 更全面的选择器 */
#twikoo .tk-submit-action-icon,
#twikoo .tk-submit-action-icon svg,
#twikoo .tk-row-action .tk-submit-action-icon,
#twikoo .tk-submit .tk-row-action .tk-submit-action-icon,
#twikoo .tk-submit .tk-row-action .tk-submit-action-icon svg,
#twikoo .tk-submit .tk-row-action .tk-submit-action-icon path {
  display: none !important;
  visibility: hidden !important;
}

/* 隐藏上传图片相关的按钮和图标 */
#twikoo .tk-submit-action-icon[title*="图片"],
#twikoo .tk-submit-action-icon[title*="上传"],
#twikoo .tk-submit-action-icon[title*="image"],
#twikoo .tk-submit-action-icon[title*="upload"],
#twikoo .tk-row-action .tk-submit-action-icon[title*="图片"],
#twikoo .tk-row-action .tk-submit-action-icon[title*="上传"] {
  display: none !important;
  visibility: hidden !important;
}

/* 隐藏包含特定 SVG 路径的上传按钮 */
#twikoo .tk-submit-action-icon svg path[d*="464 64H48"],
#twikoo .tk-row-action .tk-submit-action-icon svg path[d*="464 64H48"] {
  display: none !important;
  visibility: hidden !important;
}

/* 确保评论输入框区域正常显示 */
#twikoo .tk-submit {
  position: relative;
}

/* 自定义图片上传区域样式 - 深色主题 */
.twikoo-custom-upload {
  margin-top: 12px;
  padding: 12px;
  background: rgba(35, 35, 35, 0.85) !important;
  border-radius: 8px;
  border: 1px dashed var(--cinematic-border, rgba(255, 255, 255, 0.15)) !important;
}

.twikoo-custom-upload:hover {
  border-color: var(--cinematic-accent-gold, #d4af37) !important;
  background: rgba(40, 40, 40, 0.9) !important;
}

/* Upload 组件深色主题样式 */
body.cinematic-theme .twikoo-custom-upload .ant-upload,
body.cinematic-theme .twikoo-custom-upload .ant-upload-select,
body.cinematic-theme .twikoo-custom-upload .ant-upload-select-picture-card {
  background: rgba(40, 40, 40, 0.9) !important;
  border-color: var(--cinematic-border, rgba(255, 255, 255, 0.15)) !important;
  color: var(--cinematic-text-primary, #ffffff) !important;
}

body.cinematic-theme .twikoo-custom-upload .ant-upload-select:hover {
  border-color: var(--cinematic-accent-gold, #d4af37) !important;
}

body.cinematic-theme .twikoo-custom-upload .ant-upload-select-picture-card .ant-upload-text-icon {
  color: var(--cinematic-text-primary, #ffffff) !important;
}

body.cinematic-theme .twikoo-custom-upload .ant-upload-list-picture-card .ant-upload-list-item {
  background: rgba(40, 40, 40, 0.9) !important;
  border-color: var(--cinematic-border, rgba(255, 255, 255, 0.15)) !important;
}

body.cinematic-theme .twikoo-custom-upload .ant-upload-list-picture-card .ant-upload-list-item-thumbnail img {
  opacity: 1;
}

/* 上传按钮文字颜色 */
.twikoo-custom-upload .ant-upload-select-picture-card > div {
  color: var(--cinematic-text-primary, #ffffff) !important;
}

/* 评论中的图片显示样式 - 更全面的选择器 */
#twikoo .tk-comment-content img,
#twikoo .tk-content img,
#twikoo .tk-comment img,
#twikoo img[src*="cdn.jsdelivr.net"],
#twikoo img[src*="https://"],
#twikoo img[src*="http://"] {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
  margin: 8px 0;
  cursor: pointer;
  transition: transform 0.2s;
  display: block;
}

#twikoo .tk-comment-content img:hover,
#twikoo .tk-content img:hover,
#twikoo .tk-comment img:hover {
  transform: scale(1.02);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* 确保 Markdown 图片正确显示 */
#twikoo .tk-comment-content p img,
#twikoo .tk-content p img {
  display: inline-block;
  vertical-align: middle;
  max-width: 100%;
}

/* 图片预览样式 */
.twikoo-image-preview {
  display: inline-block;
  margin: 4px;
  position: relative;
}

.twikoo-image-preview img {
  max-width: 200px;
  max-height: 200px;
  border-radius: 4px;
}

